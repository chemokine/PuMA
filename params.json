{
  "name": "PuMA",
  "tagline": "Processing untility for Metagenomics Analysis (PuMA)",
  "body": "Documentation:\r\n==============\r\n\r\n\r\nTable of contents:\r\n==================\r\n\r\n     I. What is PuMA\r\n    II. Installation of PuMA\r\n\t* See the INSTALL file\r\n   III. PUMA Processing with Alignment\r\n   \t* Creating a configuration file\r\n\t* Processing a new fastq file of data (puma.pl)\r\n\t* Rerun a stopped or failed run\r\n    IV. PUMA Processing Tools\r\n\t* Parse the FASTQ input file using Cutadapt (run_cutadapt.pl)\r\n\t* Align data using bowtie2 (run_bowtie2.pl)\r\n\t* Convert fastq to fasta file format (fastq2fasta.pl)\r\n\t* Align data using Diamond (run_diamond.pl)\r\n\t* Process data through MEGAN5 (run_megan.pl)\r\n\t* Convert output format (convert_output.pl)\r\n    V. PUMA Combine Runs (After Processing)\r\n   \t* Combine multiple runs of output into one file (combine.pl)\r\n\r\n\r\nI. What is PuMA\r\n========================\r\n\r\n\t* Processing untility for Metagenomics Analysis (PuMA)\r\n\t  --------------------\r\n\r\n\r\nII. Installation of PuMA\r\n========================\r\n\r\n\t* See the INSTALL file\r\n\t  --------------------\r\n\r\nIII. PUMA Processing with Alignment\r\n===================================\r\n\r\n\r\n  \t* Creating a configuration file\r\n\t  -----------------------------\r\n\t\tThere is an example configuration file located in the \"conf\"\r\n\t\tdirectory of the installation path. This file is broken down\r\n\t\tinto different stanzas, at the top is the [PuMA] stanza to handle the\r\n\t\tbase tools, options and paths. There are cpu/memory option that\r\n\t\twill handle the usage for each step of the pipeline in separate stanzas \r\n\t\tindividually. This allows you to speed up individual steps as needed. \r\n\t\tIt is important that a fully qualified path to your tools and databases.\r\n\t\tcompiled PuMA genome is provided.\r\n\t\t\r\n\t\tCutadapt Stanza:\r\n\t\t  Users have the ablitiy to adjust the standard cudadapt options\r\n\t\t  using the \"cutadapt_options\" variable. We have provided a set\r\n\t\t  of options that will work for most general runs. \r\n\r\n\t\tBowtie2 Stanza:\r\n\t\t  Users have the ablitiy to adjust the standard bowtie2 options\r\n\t\t  using the \"bowtie2_options\" variable. We have provided a set\r\n\t\t  of options that will work for most general runs. The bowtie2\r\n\t\t  database path (including index name) used to filter reads from\r\n\t\t  the base genome needs to be provided in \"bowtie2_db\".\r\n\t\t  Pre-made bowtie2 databases can be found at the following address\r\n\t\t  http://bowtie-bio.sourceforge.net/bowtie2/index.shtml\r\n\r\n\t\tDiamon Stanza:\r\n\t\t  PuMA uses diamond to map reads to protein sequences in a reference\r\n\t\t  database (usually NCBI nr database). http://ab.inf.uni-tuebingen.de/software/diamond/\r\n\t\t\r\n\t\t  Users have the ablitiy to adjust the standard diamond options\r\n\t\t  using the \"diamond_options\" variable. We have provided a set\r\n\t\t  of options that will work for most general runs.\r\n\r\n\t\t  To run PuMA with diamond, the user needs to format their reference\r\n\t\t  protein sequence file (fasta format, sequence name should contain NCBI GI\r\n\t\t  number) to diamond search database (*.dmnd). The diamond database\r\n\t\t  path (including file name) needs to be provided in \"bowtie2_db\".\r\n\r\n\t\t  Example Command To Build Diamond Database:\r\n\t\t\t diamond makedb --in nr.faa -d nr.dmnd\r\n\t\r\n\t\tMEGAN Stanza:\r\n\t\t  PuMA uses MEGAN5 for assigning reads to taxonomy and function (kegg,seed),\r\n\t\t  users need to download gi-taxa id and gi-function id (e.g. kegg, seed)\r\n\t\t  mapping files from MEGAN5 website (http://ab.inf.uni-tuebingen.de/data/software/megan5/download/welcome.html).\r\n\t\t  Once you have downloaded the files you will need to provide the path\r\n\t\t  and filename in the \"taxGIFile\", \"seedGIFile\" and \"keggGIFile\" options.\r\n\r\n\t\t  Users have the ablitiy to adjust the standard MEGAN options\r\n\t\t  using the \"megan_options\" variable. We have provided a set\r\n\t\t  of options that will work for most general runs. The MEGAN\r\n\t\t  license path (including file name) needs to be provided\r\n\t\t  in \"meganLicense\". Finally if you plan to run large datasets\r\n\t\t  through this tool you will want to adjust the JAVA VM\r\n\t\t  options for MEGAN. This can be done by adjusting the settings\r\n\t\t  in the MEGAN.vmoptions file located in the MEGAN installation-dir. \r\n\t\t  Please follow the MEGAN installation instructions on how to\r\n\t\t  adjust this setting. We suggest using -Xmx8G setting as a\r\n\t\t  minimum.\r\n\r\n\t\r\n\r\n\t\t  Genome/Run setup stanza with explanation:\r\n\t\t\r\n\t\t\t[PuMA]\r\n\t\t\tcp                      = cp\r\n\t\t\trm                      = rm\r\n\t\t\tmkdir                   = mkdir\r\n\t\t\txvfbrun                 = xvfb-run\r\n\t\t\tfastq2fasta             = pipeline/fastq2fasta.pl\r\n\t\t\tconvert_output          = pipeline/convert_output.pl\r\n\t\t\trun_cutadapt            = pipeline/run_cutadapt.pl\r\n\t\t\trun_bowtie2             = pipeline/run_bowtie2.pl\r\n\t\t\trun_diamond             = pipeline/run_diamond.pl\r\n\t\t\trun_megan               = pipeline/run_megan.pl\r\n\r\n\t\t\t[Cutadapt]\r\n\t\t\tcutadapt                = cutadapt\r\n\t\t\tcutadapt_options        = -e 0.2 -O 5 -m 60\r\n\r\n\t\t\t[Bowtie2]\r\n\t\t\tbowtie2                 = bowtie2\r\n\t\t\tbowtie2_db              = hg19-bt2\r\n\t\t\tbowtie2_options         = -p 1\r\n\r\n\t\t\t[Diamond]\r\n\t\t\tdiamond                 = diamond\r\n\t\t\tdiamond_db              = diamond.dmnd\r\n\t\t\tdiamond_options         = -p 1\r\n\r\n\t\t\t[MEGAN]\r\n\t\t\tmegan                   = MEGAN\r\n\t\t\tmegan_options           = -MC 1\r\n\t\t\tmeganLicense            = MEGAN5-academic-license.txt\r\n\t\t\ttaxGIFile               = gi_taxid.bin\r\n\t\t\tseedGIFile              = gi_seed.bin\r\n\t\t\tkeggGIFile              = gi_kegg.bin\r\n\r\n\r\n\r\n\r\n\r\n\t* Processing a new fastq data (puma.pl)\r\n\t  -----------------------------------------------------\r\n\r\n                Program:\r\n                puma.pl\r\n\r\n                Description:\r\n        \tpuma.pl is the main controller script for the entire PUMA\r\n\t\tPipeline. It is used to call all other tools within the PUMA software\r\n\t\tpackage. This tool requires a complete installation of the PUMA\r\n\t\tPipeline. \r\n\r\n\t\tThe puma.pl pipeline can process multiple files at one time by\r\n\t\tproviding a list of files separated by a semi-colon or using regular\r\n\t\texpressions of numbers like [1-7] or a combination of both. This\r\n\t\tallows the pipeline to be used to process a single file per machine or\r\n\t\tmultiple files per machine by using this option. For each file\r\n\t\tlisted in the -f option a process will be started at the same time.\r\n\t\tBy default each step of the pipeline uses a single processor but that\r\n\t\tcan be adjusted in the configuration file stanzas for each step.\r\n\r\n\t\tThe pipeline uses an adaptors file input file that can contain a list\r\n\t\tof adaptors that you would like to use with the program cutadapt.\r\n\r\n\t\tThe pipeline configuration file is used to manage all the resources and\r\n\t\tpaths for each run. After the PuMA pipeline is installed and example\r\n\t\tconfiguration file will be provided under the pipeline conf directory.\r\n\t\tUsers can make as many configuration files as needed using the example\r\n\t\tas a base. Simply use the the correct configuration file for each run.\r\n\r\n\t\tSince the PuMA pipeline creates lots of intermediate files that can consume\r\n\t\tspace. The pipeline is set to remove these files at the end of each completed\r\n\t\trun. If you would like to keep these file please use the debug option.\r\n\r\n\r\n\r\n\t        puma.pl -f <data_files> -a <adapters> -c <configuration_file> -d\r\n\r\n\r\n         \t-f   The Datafile(s) containing your sequence data. For Example:\r\n         \t       -f 's_1_sequences.fastq'\r\n         \t       -f 's_[1-7]_sequences.fastq'\r\n         \t       -f 's_[1-4]_sequences.fastq;s_[6-7]_sequences.fastq'\r\n         \t-a   Input file of adaptor sequences (one per line).\r\n         \t       -a adaptors.txt\r\n\r\n         \t-c   The run configuration file (default = conf/example.conf).\r\n         \t       -c example.conf\r\n\r\n\t        -r   The run directory for rerunning a failed run. When using\r\n\t\t     this do not use any other options\r\n\t\t       Example:\r\n             \t       puma.pl -r s_1_sequences.fastq.10001.dir\r\n\r\n         \t-d   Debug mode: Keep all intermediate files.\r\n\r\n\r\n\r\n\r\n\t* Processing a new fastq data (puma.pl)\r\n\t  -----------------------------------------------------\r\n\r\n\t\tIf a runs stops prematurally the there is an option to point\r\n\t\tthe puma pipeline at the failed run folder and have it try and restart from\r\n\t\twhere it left off. When using the -r option please provide the folder run name\r\n\t\tand no other options. This optios may not always work since it depends on how\r\n\t\tthe pipeline was killed or failed. This method reads through the run_info.log\r\n\t\tfile to find the steps that are \"Done\". If the rerun is not working you can\r\n\t\ttry and remove some of the \"Done\" entries and see if it picks up where you\r\n\t\tneed.\r\n\r\n\r\n\r\nIV. PUMA Processing Tools\r\n===========================\r\n\r\n\t* Processing fastq files with Cutadapt (Step 1 of pipeline)\r\n\t  -----------------------------------------------------\r\n\r\n                Program:\r\n                run_cutadapt.pl\r\n\r\n  \t\tDescription:\r\n  \t\tRuns the Cutadapt and processes the input file given by the -f option and processess it through cutadapt\r\n\r\n  \t\tUsage:\r\n  \t\trun_cutadapt.pl -f <inputfile> -a <adaptors> -l <logfile> -r <run_id> -c <config_file>\r\n\r\n  \t\t-f   The input fastq file:\r\n\r\n  \t\t-a   Input file of adaptor sequences (one per line).\r\n\r\n  \t\t-l   The logfile name:\r\n\r\n  \t\t-r   The RunID for the pipeline:\r\n\r\n  \t\t-c   The run configuration file (default = example.conf):\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t* Processing Cutadapt output with Bowtie2 (Step 2 of pipeline)\r\n\t  -----------------------------------------------------\r\n\r\n                Program:\r\n                run_bowtie2.pl\r\n\r\n\t\tDescription:\r\n\t\tRun Bowtie2 on all cutadapt output files. This tool will process input files given by\r\n\t\tthe -f option and processess it through bowtie2\r\n  \t\t\r\n\t\tUsage:\r\n \t\trun_bowtie2.pl -f <inputfile> -l <logfile> -r <run_id> -c <config_file>\r\n\r\n  \t\t-f   The input fastq file:\r\n\r\n \t \t-l   The logfile name:\r\n\r\n  \t\t-r   The RunID for the pipeline:\r\n\r\n  \t\t-c   The run configuration file (default = example.conf):\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t* Processing Bowtie output files converting fastq to fasta (Step 3 of pipeline)\r\n\t  -----------------------------------------------------\r\n\r\n\t\r\n                Program:\r\n                fastq2fasta.pl\r\n\r\n\t\tDescription:\r\n\r\n  \t\tUsage:\r\n  \t\tfastq2fasta.pl -f <input_fastq> -o <outfile_fasta> -l <logfile>\r\n\r\n  \t\t-f   Input data file in FASTQ format.\r\n\r\n  \t\t-o   Outfile FASTA file name.\r\n\r\n  \t\t-l   The logfile name:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t* Processing fasta files through Diamond (Step 4 of pipeline)\r\n\t  -----------------------------------------------------\r\n\r\n                Program:\r\n                run_diamond.pl\r\n\r\n  \t\tDescription:\r\n  \t\tRun Diamond on bowtie2 output files. This tool will processes the input file given by the -f option and processess it through diamond\r\n\r\n  \t\tUsage:\r\n  \t\trun_diamond.pl -f <inputfile> -l <logfile> -r <run_id> -c <config_file>\r\n\r\n  \t\t-f   The input fasta file:\r\n\r\n  \t\t-l   The logfile name:\r\n\r\n  \t\t-r   The RunID for the pipeline:\r\n\r\n  \t\t-c   The run configuration file (default = example.conf):\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t* Processing Diamond output files using MEGAN5 (Step 5 of pipeline)\r\n\t  -----------------------------------------------------\r\n\r\n                Program:\r\n                run_megan.pl\r\n\r\n  \t\tDescription:\r\n  \t\tRun MEGAN5 on diamond output files. This tool will processes the input file given by the -f option and processess it through diamond\r\n  \t\t\r\n\t\tUsage:\r\n  \t\trun_megan.pl -f <inputfile> -l <logfile> -r <run_id> -c <config_file>\r\n\r\n  \t\t-f   The input fasta file:\r\n\r\n  \t\t-l   The logfile name:\r\n\r\n  \t\t-r   The RunID for the pipeline:\r\n\r\n  \t\t-c   The run configuration file (default = conf/example.conf):\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t* Processing MEGAN5 output and converting it to tab format (Step 6 of pipeline)\r\n\t  -----------------------------------------------------\r\n\r\n                Program:\r\n                convert_output.pl\r\n\r\n  \t\tDescription:\r\n\r\n  \t\tUsage:\r\n  \t\tconvert_output.pl -r <run_directory> -o <output_file> -l <logfile>\r\n\r\n  \t\t-r   PuMA Pipeline Run directory.\r\n\r\n  \t\t-o   Output file name.\r\n\r\n  \t\t-l   The logfile name:\r\n\r\n\r\n\r\n\r\n\r\n\r\nV. PUMA Combine Runs (After Processing)\r\n===================================\r\n\r\n\t* Processing PuMA output directories and combine output files\r\n\t  -----------------------------------------------------\r\n\r\n                Program:\r\n                combine.pl\r\n\r\n  \t\tDescription:\r\n\t\tThis tool is used to combine the all_counts.tsv from multiple\r\n\t\truns into a two files with different formats. The first file is a\r\n\t\tconcatination of the all_counts.tsv but maintains the same format\r\n\t\t(long). The second file format is a wide format putting each\r\n\t\tsample in a column.\r\n\r\n\t\tThe combine.pl pipeline can process multiple run directories at one time by\r\n\t\tproviding a list of directories separated by a semi-colon or using regular\r\n\t\texpressions of numbers like [1-7] or a combination of both. This\r\n\t\tallows the combine tool to be used to process a single directory per machine or\r\n\t\tmultiple directories per machine by using this option. For each directory\r\n\t\tlisted in the -d option a process will be started one after another.\r\n\r\n  \t\tUsage:\r\n  \t\tcombine.pl -d <puma run directories> -o <output file name>\r\n\r\n  \t\t-d   The Run Directories containing your PuMA Pipeline data.\r\n\r\n        \tFor Example:\r\n          \t\t-d 'C1_data.fq'\r\n          \t\t-d 'C[1-2]_data.fq'\r\n          \t\t-d 'C[1-4]_data.fq;C[6-7]_data.fq'\r\n\r\n  \t\t-o   Output identifier\r\n        \t\tFor Example:\r\n          \t\t-o 'all_samples'\r\n\r\n\r\nEND of Document\r\n===============\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}